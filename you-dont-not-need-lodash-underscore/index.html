<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <title>使用原生函数代替underscore/lodash | 前端笔记</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="为了更好的理解函数式变成，我们可以先从替换underscore/lodash开始。从You-Dont-Need-Lodash-Underscore代替方法的学习过程中，我们发现有些underscore/lodash来得通俗易懂，所以实际开发中我们根据实际情况取舍，像使用原生reduce代替group方法，此篇文章学习重点是理解函数式编程和ES6/S7语法。 如果项目小，也没必要引入经常爆出bug的">
<meta name="keywords" content="JavaScript">
<meta property="og:type" content="article">
<meta property="og:title" content="使用原生函数代替underscore&#x2F;lodash">
<meta property="og:url" content="http://blog.html5jscss.com/you-dont-not-need-lodash-underscore/index.html">
<meta property="og:site_name" content="前端笔记">
<meta property="og:description" content="为了更好的理解函数式变成，我们可以先从替换underscore/lodash开始。从You-Dont-Need-Lodash-Underscore代替方法的学习过程中，我们发现有些underscore/lodash来得通俗易懂，所以实际开发中我们根据实际情况取舍，像使用原生reduce代替group方法，此篇文章学习重点是理解函数式编程和ES6/S7语法。 如果项目小，也没必要引入经常爆出bug的">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-07-25T06:39:54.183Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="使用原生函数代替underscore&#x2F;lodash">
<meta name="twitter:description" content="为了更好的理解函数式变成，我们可以先从替换underscore/lodash开始。从You-Dont-Need-Lodash-Underscore代替方法的学习过程中，我们发现有些underscore/lodash来得通俗易懂，所以实际开发中我们根据实际情况取舍，像使用原生reduce代替group方法，此篇文章学习重点是理解函数式编程和ES6/S7语法。 如果项目小，也没必要引入经常爆出bug的">
  
    <link rel="alternative" href="/atom.xml" title="前端笔记" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head></html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">前端笔记</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://blog.html5jscss.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-you-dont-not-need-lodash-underscore" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/you-dont-not-need-lodash-underscore/" class="article-date">
  <time datetime="2019-07-16T01:23:26.000Z" itemprop="datePublished">2019-07-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/JavaScript/">JavaScript</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      使用原生函数代替underscore/lodash
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>为了更好的理解函数式变成，我们可以先从替换<code>underscore/lodash</code>开始。从<a href="https://github.com/you-dont-need/You-Dont-Need-Lodash-Underscore" target="_blank" rel="external">You-Dont-Need-Lodash-Underscore</a>代替方法的学习过程中，我们发现有些<code>underscore/lodash</code>来得通俗易懂，所以实际开发中我们根据实际情况取舍，像使用原生<code>reduce</code>代替group方法，此篇文章学习重点是理解函数式编程和ES6/S7语法。</p>
<p>如果项目小，也没必要引入经常爆出bug的<code>loadsh</code>。<br><a id="more"></a><br>PS：其中数组方法中的 <code>concat</code>(合并生成一个新数组)、<code>fill</code>（填充数组）、<code>reverse</code>(颠倒数组顺序)、<code>slice</code>(切割数组)等等跟原生方法一样就不列举出来了。</p>
<h2 id="collections"><a href="#collections" class="headerlink" title="collections"></a>collections</h2><h3 id="each"><a href="#each" class="headerlink" title="_.each"></a>_.each</h3><p>按顺序遍历list的所有元素。Es6的forEach只支持循环数组，可以使用<code>Object.entries</code>将对象转成数组。有两个参数：</p>
<ol>
<li>执行的回调函数：三个参数分别是：元素值、元素索引以及原数组。</li>
<li>执行回调函数的 <code>this</code> 值<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line">_.each([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>], <span class="function"><span class="keyword">function</span>(<span class="params">value,index</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(index  + value)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// output: 0a 1b 2c</span></span><br><span class="line">_.each(&#123;one: <span class="number">1</span>, two: <span class="number">2</span>, three: <span class="number">3</span>&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">value,key</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(key  + value)</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// output: one1 two2 three3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native </span></span><br><span class="line">[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>].forEach( (value, index) =&gt; <span class="built_in">console</span>.log(index + value))</span><br><span class="line"><span class="comment">// output: 0a 1b 2c</span></span><br><span class="line"><span class="built_in">Object</span>.entries(&#123;one: <span class="number">1</span>, two: <span class="number">2</span>, three: <span class="number">3</span>&#125;).forEach( (value, key) =&gt;<span class="built_in">console</span>.log(value[<span class="number">0</span>] + value[<span class="number">1</span>] ) )</span><br><span class="line"><span class="comment">// output one1 two2 three3</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="map"><a href="#map" class="headerlink" title="_.map"></a>_.map</h3><p><code>_.map</code>跟<code>_.each</code>都是遍历list的所有元素，<code>_.each</code>只是在原list上操作，而<code>_.map</code>会创建一个新的list。所以native中我们使用同名函数<code>map</code>来实现就够了。有两个参数：</p>
<ol>
<li>生成新数组的回调函数三个参数分别是：元素值、元素索引以及原数组。</li>
<li>执行回调函数的 <code>this</code> 值<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line"><span class="keyword">var</span> array1 = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</span><br><span class="line"><span class="keyword">var</span> array2 = _.map(array1, <span class="function"><span class="keyword">function</span> (<span class="params">value, index</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Hi '</span> + value </span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(array2)</span><br><span class="line"><span class="comment">// output: ["Hi a", "Hi b", "Hi c"]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native </span></span><br><span class="line"><span class="keyword">var</span> array1 = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</span><br><span class="line"><span class="keyword">var</span> array2 = array1.map( (value, index) =&gt; <span class="string">'Hi '</span> + value )</span><br><span class="line"><span class="built_in">console</span>.log(array2)</span><br><span class="line"><span class="comment">// output: ["Hi a", "Hi b", "Hi c"]</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="reduce"><a href="#reduce" class="headerlink" title="_.reduce"></a>_.reduce</h3><p><code>reduce</code>可以用原生数组的<code>reduce</code>方法来模拟。<code>reduce</code>提供了两个参数：</p>
<ol>
<li>累加器函数：四个参数分别是：上一次调用的值或者传入的初始值、正在处理的元素、正在处理元素的索引值以及调用的<code>reduce</code>的源数组。<br>有。</li>
<li>第一次执行累加函数的初始值。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line"><span class="keyword">var</span> array = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">var</span> result = _.reduce(array, <span class="function"><span class="keyword">function</span>(<span class="params">previousValue, currentValue, currentIndex, array</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> previousValue + currentValue</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br><span class="line"><span class="comment">// output: 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line"><span class="keyword">var</span> array = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">var</span> result = array.reduce( (previousValue, currentValue, currentIndex, array) =&gt; previousValue + currentValue )</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br><span class="line"><span class="comment">// output: 10</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="reduceRight"><a href="#reduceRight" class="headerlink" title="_.reduceRight"></a>_.reduceRight</h3><p><code>reduce</code>的从右往左累加的方法。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line"><span class="keyword">var</span> array = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">var</span> result = _.reduceRight(array, <span class="function"><span class="keyword">function</span>(<span class="params">previousValue, currentValue, currentIndex, array</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> previousValue - currentValue</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br><span class="line"><span class="comment">// output: -2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line"><span class="keyword">var</span> array = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">var</span> result = array.reduceRight( (previousValue, currentValue, currentIndex, array) =&gt; previousValue - currentValue )</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br><span class="line"><span class="comment">// output: -2</span></span><br></pre></td></tr></table></figure></p>
<h3 id="every"><a href="#every" class="headerlink" title="_.every"></a>_.every</h3><p>every表示是否每一项都必须都符合条件。换句话说如果全部都符合条件，则返回true；有一项不符合则返回false。有两个参数：</p>
<ol>
<li>执行的回调函数：三个参数分别是：元素值、元素索引以及原数组。</li>
<li>执行回调函数的 <code>this</code> 值<br>若收到一个空数组，此方法在一切情况下都会返回 true。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line"><span class="keyword">var</span> array = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]</span><br><span class="line"><span class="keyword">var</span> result = _.every(array, <span class="function"><span class="keyword">function</span>(<span class="params">element, index, array</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> element &gt;= <span class="number">10</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br><span class="line"><span class="comment">// output: true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line"><span class="keyword">var</span> array = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]</span><br><span class="line"><span class="keyword">var</span> result = array.every( (element, index, array) =&gt; element &gt;= <span class="number">10</span> )</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br><span class="line"><span class="comment">// output: true</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="some"><a href="#some" class="headerlink" title="_.some"></a>_.some</h3><p>some则是只要有一项符合条件就返回true。换句话说如果有一项符合条件，则返回true；除非一项都不符合条件才返回false。有两个参数：</p>
<ol>
<li>执行的回调函数：三个参数分别是：元素值、元素索引以及原数组。</li>
<li>执行回调函数的 <code>this</code> 值<br>对于空数组上的任何条件，此方法返回false。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line"><span class="keyword">var</span> array = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]</span><br><span class="line"><span class="keyword">var</span> result = _.some(array, <span class="function"><span class="keyword">function</span>(<span class="params">element, index, array</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> element &gt;= <span class="number">30</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br><span class="line"><span class="comment">// output: true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line"><span class="keyword">var</span> array = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]</span><br><span class="line"><span class="keyword">var</span> result = array.some( (element, index, array) =&gt; element &gt;= <span class="number">30</span> )</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br><span class="line"><span class="comment">// output: true</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="find"><a href="#find" class="headerlink" title="_.find"></a>_.find</h3><p>返回第一个满足条件的元素，如果不存在则放回<code>undefined</code>。有两个参数：</p>
<ol>
<li>执行的回调函数：三个参数分别是：元素值、元素索引以及原数组。</li>
<li>执行回调函数的 <code>this</code> 值<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line"> <span class="keyword">var</span> users = [</span><br><span class="line">    &#123; <span class="string">'user'</span>: <span class="string">'xiaoming'</span>,  <span class="string">'age'</span>: <span class="number">36</span>, <span class="string">'active'</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">    &#123; <span class="string">'user'</span>: <span class="string">'xiaohong'</span>,    <span class="string">'age'</span>: <span class="number">40</span>, <span class="string">'active'</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">    &#123; <span class="string">'user'</span>: <span class="string">'xiaogang'</span>, <span class="string">'age'</span>: <span class="number">1</span>,  <span class="string">'active'</span>: <span class="literal">true</span> &#125;</span><br><span class="line">]</span><br><span class="line"><span class="keyword">var</span> result = _.find(users,  <span class="function"><span class="keyword">function</span> (<span class="params">o</span>) </span>&#123; <span class="keyword">return</span> o.age &lt; <span class="number">40</span>; &#125;)</span><br><span class="line"><span class="built_in">console</span>.dir(result)</span><br><span class="line"><span class="comment">// output: active: true age: 36 user: "xiaoming"</span></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line"><span class="keyword">var</span> users = [</span><br><span class="line">    &#123; <span class="string">'user'</span>: <span class="string">'xiaoming'</span>,  <span class="string">'age'</span>: <span class="number">36</span>, <span class="string">'active'</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">    &#123; <span class="string">'user'</span>: <span class="string">'xiaohong'</span>,    <span class="string">'age'</span>: <span class="number">40</span>, <span class="string">'active'</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">    &#123; <span class="string">'user'</span>: <span class="string">'xiaogang'</span>, <span class="string">'age'</span>: <span class="number">1</span>,  <span class="string">'active'</span>: <span class="literal">true</span> &#125;</span><br><span class="line">]</span><br><span class="line"><span class="keyword">var</span> result = users.find( (o) =&gt;  o.age &lt; <span class="number">40</span> )</span><br><span class="line"><span class="built_in">console</span>.dir(result)</span><br><span class="line"><span class="comment">// output: active: true age: 36 user: "xiaoming"</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="pluck"><a href="#pluck" class="headerlink" title="_.pluck"></a>_.pluck</h3><p>原生JS中没有pluck方法，但是我们可以使用map模拟。<br><code>Lodash</code> v4.0 已经移除<code>pluck</code>函数。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> users = [&#123;name: <span class="string">"Alice"</span>&#125;, &#123;name: <span class="string">"Bob"</span>&#125;, &#123;name: <span class="string">"Jeremy"</span>&#125;]</span><br><span class="line"><span class="keyword">var</span> names = _.pluck(users, <span class="string">"name"</span>)</span><br><span class="line"><span class="built_in">console</span>.log(names)</span><br><span class="line"><span class="comment">// output: ["Alice", "Bob", "Jeremy"]</span></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line"><span class="keyword">var</span> users = [&#123;name: <span class="string">"Alice"</span>&#125;, &#123;name: <span class="string">"Bob"</span>&#125;, &#123;name: <span class="string">"Jeremy"</span>&#125;]</span><br><span class="line"><span class="keyword">var</span> names = users.map( (o) =&gt; o.name )</span><br><span class="line"><span class="built_in">console</span>.log(names)</span><br><span class="line"><span class="comment">// output:["Alice", "Bob", "Jeremy"]</span></span><br></pre></td></tr></table></figure></p>
<h3 id="includes"><a href="#includes" class="headerlink" title="_.includes"></a>_.includes</h3><p>判断是否包含某个特定的值，如果有则返回true，否则返回false。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line"><span class="keyword">var</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="comment">// Underscore/Lodash - also called _.contains</span></span><br><span class="line"><span class="keyword">var</span> isIncludes = _.includes(array, <span class="number">1</span>)</span><br><span class="line"><span class="built_in">console</span>.log(isIncludes)</span><br><span class="line"><span class="comment">// output: true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line"><span class="keyword">var</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">var</span> isIncludes = array.includes(<span class="number">1</span>)</span><br><span class="line"><span class="built_in">console</span>.log(isIncludes)</span><br><span class="line"><span class="keyword">var</span> isIndexOf = array.indexOf(<span class="number">1</span>) &gt; <span class="number">-1</span>;</span><br><span class="line"><span class="comment">// output: true</span></span><br><span class="line"><span class="built_in">console</span>.log(isIndexOf)</span><br><span class="line"><span class="comment">// output: true</span></span><br></pre></td></tr></table></figure></p>
<h3 id="toArray"><a href="#toArray" class="headerlink" title="_.toArray"></a>_.toArray</h3><p><code>toArray</code>方法则可以用数组扩展符以及<code>Array.from</code>来模拟。<code>Array.from</code>跟数组扩展符都是浅拷贝，只能拷贝第一层的值，第二次及其之后的值无法进行深拷贝，他们的引用地址任然是同一个。<br>其中<code>Array.from</code>不仅可以生成转换成数组，也可以运行对每个元素执行回调函数。<br><code>Array.from({length:10})</code>生成的新数组，及时里面的值都是<code>undefined</code>也是可以循环遍历。<code>Array.from</code>有三个参数：</p>
<ol>
<li>想要转为成数组的元素</li>
<li><code>map</code>回调函数</li>
<li>回调的执行函数<br>所以，<code>Array.from(obj, mapFn, thisArg)</code> 就相当于 <code>Array.from(obj).map(mapFn, thisArg)</code>,</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line">_.toArray(<span class="string">'abc'</span>)</span><br><span class="line"><span class="comment">// output: ["a", "b", "c"]</span></span><br><span class="line">_.toArray([<span class="number">1</span>, <span class="number">2</span>])</span><br><span class="line"><span class="comment">// output: [1, 2]</span></span><br><span class="line">_.toArray(&#123; <span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'b'</span>: <span class="number">2</span> &#125;)</span><br><span class="line"><span class="comment">// output: [1, 2]</span></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line">[...<span class="string">'abc'</span>]</span><br><span class="line"><span class="comment">// output: ["a", "b", "c"]</span></span><br><span class="line"><span class="built_in">Array</span>.from([<span class="number">1</span>, <span class="number">2</span>])</span><br><span class="line"><span class="comment">// output: [1, 2]</span></span><br><span class="line"><span class="built_in">Array</span>.from(<span class="built_in">Object</span>.values(&#123; <span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'b'</span>: <span class="number">2</span> &#125;))</span><br><span class="line"><span class="comment">// output: [1, 2]</span></span><br></pre></td></tr></table></figure>
<h2 id="Arrays"><a href="#Arrays" class="headerlink" title="Arrays"></a>Arrays</h2><h3 id="object"><a href="#object" class="headerlink" title="_.object"></a>_.object</h3><p><code>_.object</code>将数组转换为对象。原生js中没有此方法，但是我们可以使用数组的<code>reduce</code>方法以及对象的<code>assign</code>来模拟。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line">_.object([<span class="string">'moe'</span>, <span class="string">'larry'</span>, <span class="string">'curly'</span>], [<span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>])</span><br><span class="line"><span class="comment">// output: &#123;curly: 50, larry: 40, moe: 30&#125;</span></span><br><span class="line">_.object([[<span class="string">'moe'</span>, <span class="number">30</span>], [<span class="string">'larry'</span>, <span class="number">40</span>], [<span class="string">'curly'</span>, <span class="number">50</span>]])</span><br><span class="line"><span class="comment">// output: &#123;curly: 50, larry: 40, moe: 30&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line"><span class="keyword">var</span> array = [[<span class="string">'moe'</span>, <span class="number">30</span>], [<span class="string">'larry'</span>, <span class="number">40</span>], [<span class="string">'curly'</span>, <span class="number">50</span>]];</span><br><span class="line">array.reduce((result, [key, val]) =&gt; <span class="built_in">Object</span>.assign(result, &#123;[key]: val&#125;), &#123;&#125;)</span><br><span class="line"><span class="comment">// output: &#123;curly: 50, larry: 40, moe: 30&#125;</span></span><br><span class="line"><span class="keyword">var</span> array = [[<span class="string">'moe'</span>, <span class="string">'larry'</span>, <span class="string">'curly'</span>], [<span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>]];</span><br><span class="line">array.slice(<span class="number">0</span>, <span class="number">1</span>)[<span class="number">0</span>].reduce( (result, key, index, _array) =&gt; <span class="built_in">Object</span>.assign(result, &#123;[key]: array[<span class="number">1</span>][index]&#125;) ,&#123;&#125;)</span><br><span class="line"><span class="comment">// output: &#123;curly: 50, larry: 40, moe: 30&#125;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="compact"><a href="#compact" class="headerlink" title="_.compact"></a>_.compact</h3><p>去除数组中的所有false的值。原生中没有，但是可以使用filter来模拟。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line">_.compact([<span class="number">0</span>, <span class="number">1</span>, <span class="literal">false</span>, <span class="number">2</span>, <span class="string">''</span>, <span class="number">3</span>])</span><br><span class="line"><span class="comment">// output: [1, 2, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="literal">false</span>, <span class="number">2</span>, <span class="string">''</span>, <span class="number">3</span>].filter(<span class="built_in">Boolean</span>)</span><br><span class="line"><span class="comment">// output: [1, 2, 3]</span></span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="literal">false</span>, <span class="number">2</span>, <span class="string">''</span>, <span class="number">3</span>].filter(x =&gt; !!x)</span><br><span class="line"><span class="comment">// output: [1, 2, 3]</span></span><br></pre></td></tr></table></figure></p>
<h3 id="uniq"><a href="#uniq" class="headerlink" title="_.uniq"></a>_.uniq</h3><p>数组去重。<code>Set</code> 对象可以去重，再转成数组来模拟。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line"><span class="keyword">var</span> result = _.uniq([<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">3</span>])</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br><span class="line"><span class="comment">// output: [1, 2, 4, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line"><span class="keyword">var</span> result = [...new <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">3</span>])]</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br><span class="line"><span class="comment">// output: [1, 2, 4, 3]</span></span><br></pre></td></tr></table></figure></p>
<h3 id="indexOf"><a href="#indexOf" class="headerlink" title="_.indexOf"></a>_.indexOf</h3><p>数组中寻找一个给定元素的第一个索引，如果不存在，则返回-1，跟原生数组中的<code>indexOf</code>方法一样。<br><code>indexOf</code>有两个参数：</p>
<ol>
<li>要查找的元素</li>
<li>开始查找的索引位置<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line"><span class="keyword">var</span> result = _.indexOf([<span class="number">2</span>, <span class="number">9</span>, <span class="number">9</span>], <span class="number">2</span>)</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br><span class="line"><span class="comment">// output: 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line"><span class="keyword">var</span> result = [<span class="number">2</span>, <span class="number">9</span>, <span class="number">9</span>].indexOf(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br><span class="line"><span class="comment">// output: 0</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="findIndex"><a href="#findIndex" class="headerlink" title="_.findIndex"></a>_.findIndex</h3><p>返回数组中满足提供的测试函数的第一个元素的索引，否则返回-1。有两个参数：</p>
<ol>
<li>执行的回调函数：三个参数分别是：元素值、元素索引以及原数组。</li>
<li>执行回调函数的 <code>this</code> 值<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line"><span class="keyword">var</span> users = [</span><br><span class="line">    &#123; <span class="string">'user'</span>: <span class="string">'xiaoming'</span>,  <span class="string">'age'</span>: <span class="number">36</span>, <span class="string">'active'</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">    &#123; <span class="string">'user'</span>: <span class="string">'xiaohong'</span>,    <span class="string">'age'</span>: <span class="number">40</span>, <span class="string">'active'</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">    &#123; <span class="string">'user'</span>: <span class="string">'xiaogang'</span>, <span class="string">'age'</span>: <span class="number">1</span>,  <span class="string">'active'</span>: <span class="literal">true</span> &#125;</span><br><span class="line">]</span><br><span class="line"><span class="keyword">var</span> index = _.findIndex(users, <span class="function"><span class="keyword">function</span> (<span class="params">o</span>) </span>&#123; <span class="keyword">return</span> o.age &gt;= <span class="number">40</span>; &#125;)</span><br><span class="line"><span class="built_in">console</span>.log(index)</span><br><span class="line"><span class="comment">// output: 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line"><span class="keyword">var</span> users = [</span><br><span class="line">    &#123; <span class="string">'user'</span>: <span class="string">'xiaoming'</span>,  <span class="string">'age'</span>: <span class="number">36</span>, <span class="string">'active'</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">    &#123; <span class="string">'user'</span>: <span class="string">'xiaohong'</span>,    <span class="string">'age'</span>: <span class="number">40</span>, <span class="string">'active'</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">    &#123; <span class="string">'user'</span>: <span class="string">'xiaogang'</span>, <span class="string">'age'</span>: <span class="number">1</span>,  <span class="string">'active'</span>: <span class="literal">true</span> &#125;</span><br><span class="line">]</span><br><span class="line"><span class="keyword">var</span> index = users.findIndex( (o) =&gt; o.age &gt;=<span class="number">40</span> )</span><br><span class="line"><span class="built_in">console</span>.log(index)</span><br><span class="line"><span class="comment">// output: 0</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="range"><a href="#range" class="headerlink" title="_.range"></a>_.range</h3><p>原生Js中没有<code>range</code>。所以直接使用<code>map</code>函数来处理，并最终处理成数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line">_.range(<span class="number">10</span>)</span><br><span class="line"><span class="comment">// output: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line">_.range(<span class="number">1</span>, <span class="number">11</span>)</span><br><span class="line"><span class="comment">// output: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span></span><br><span class="line">_.range(<span class="number">0</span>, <span class="number">30</span>, <span class="number">5</span>)</span><br><span class="line"><span class="comment">// output: [0, 5, 10, 15, 20, 25]</span></span><br><span class="line">_.range(<span class="number">0</span>, <span class="number">-10</span>, <span class="number">-1</span>)</span><br><span class="line"><span class="comment">// output: [0, -1, -2, -3, -4, -5, -6, -7, -8, -9]</span></span><br><span class="line">_.range(<span class="number">0</span>)</span><br><span class="line"><span class="comment">// output: []</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line"><span class="built_in">Array</span>.from(&#123;length:<span class="number">10</span>&#125;, (_, i) =&gt; i)</span><br><span class="line"><span class="comment">// output: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line"><span class="built_in">Array</span>.from(&#123;length:<span class="number">10</span>&#125;, (_, i) =&gt; i+<span class="number">1</span>)</span><br><span class="line"><span class="comment">// output: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span></span><br><span class="line"><span class="built_in">Array</span>.from(&#123;length:<span class="number">6</span>&#125;, (_, i) =&gt; i*<span class="number">5</span>)</span><br><span class="line"><span class="comment">// output: [0, 5, 10, 15, 20, 25]</span></span><br><span class="line"><span class="built_in">Array</span>.from(&#123;length:<span class="number">10</span>&#125;, (_, i) =&gt; -i)</span><br><span class="line"><span class="comment">// output: [0, -1, -2, -3, -4, -5, -6, -7, -8, -9]</span></span><br><span class="line"><span class="built_in">Array</span>.from(&#123;length:<span class="number">0</span>&#125;)</span><br><span class="line"><span class="comment">// output: []</span></span><br><span class="line"></span><br><span class="line">[...Array(<span class="number">10</span>).keys() ] )</span><br><span class="line"><span class="comment">// output: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line">[...Array(<span class="number">10</span>).keys()].map(k =&gt; k + <span class="number">1</span>)</span><br><span class="line"><span class="comment">// output: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span></span><br><span class="line">[...Array(<span class="number">6</span>).keys()].map(k =&gt; k*<span class="number">5</span> )</span><br><span class="line"><span class="comment">// output: [0, 5, 10, 15, 20, 25]</span></span><br><span class="line">[...Array(<span class="number">10</span>).keys()].map(k =&gt; -k)</span><br><span class="line"><span class="comment">// output: [0, -1, -2, -3, -4, -5, -6, -7, -8, -9]</span></span><br><span class="line">[]</span><br><span class="line"><span class="comment">// output: []</span></span><br></pre></td></tr></table></figure></p>
<h3 id="chunk"><a href="#chunk" class="headerlink" title="_.chunk"></a>_.chunk</h3><p>将数组拆分成多个size长度的小数组，并且将这些小数组组成一个新的大数组，如果最后剩余的元素不够size长度，那么最后剩余的元素组成一个小数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line">_.chunk([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>], <span class="number">2</span>);</span><br><span class="line"><span class="comment">// =&gt; [['a', 'b'], ['c', 'd']]</span></span><br><span class="line"></span><br><span class="line">_.chunk([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>], <span class="number">3</span>);</span><br><span class="line"><span class="comment">// =&gt; [['a', 'b', 'c'], ['d']]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line"><span class="keyword">const</span> chunk = (input, size) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> input.reduce((previousValue, currentValue, currentIndex, array) =&gt; &#123;</span><br><span class="line">        <span class="keyword">return</span> currentIndex % size === <span class="number">0</span></span><br><span class="line">        ? [...previousValue, [currentValue]] <span class="comment">//当前索引跟size余数为0时，新增一个小数组</span></span><br><span class="line">        : [...previousValue.slice(<span class="number">0</span>, <span class="number">-1</span>), [...previousValue.slice(<span class="number">-1</span>)[<span class="number">0</span>], currentValue]]; <span class="comment">//当前索引跟size余数不为0时，往length - 1的小数组里推值</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;;</span><br><span class="line">chunk([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>], <span class="number">2</span>);</span><br><span class="line"><span class="comment">// =&gt; [['a', 'b'], ['c', 'd']]</span></span><br><span class="line"></span><br><span class="line">chunk([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>], <span class="number">3</span>);</span><br><span class="line"><span class="comment">// =&gt; [['a', 'b', 'c'], ['d']]</span></span><br></pre></td></tr></table></figure></p>
<h3 id="difference"><a href="#difference" class="headerlink" title="_.difference"></a>_.difference</h3><p>原生中没有此方法，所以得模拟。<code>difference</code>会返回一个过滤值不包含排除值的新数组。接受两个参数：</p>
<ol>
<li>原数组</li>
<li>要排除的值，[values]<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arrays = [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], [<span class="number">5</span>, <span class="number">2</span>, <span class="number">10</span>]];</span><br><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line"><span class="keyword">var</span> a =_.difference([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], [<span class="number">5</span>, <span class="number">2</span>, <span class="number">10</span>]);</span><br><span class="line"><span class="comment">// output: [1, 3, 4]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line"><span class="built_in">console</span>.log(arrays.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">source, target</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> source.filter(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123; </span><br><span class="line">        <span class="keyword">return</span> !target.includes(value); <span class="comment">// 如果过滤数组中函数该值includes则返回true，filter则会创建返回值是true的新数组</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;));</span><br><span class="line"><span class="comment">// output: [1, 3, 4]</span></span><br><span class="line"><span class="built_in">console</span>.log(arrays.reduce((source, target) =&gt; source.filter(value =&gt; !target.includes(value))));</span><br><span class="line"><span class="comment">// output: [1, 3, 4]</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="drop"><a href="#drop" class="headerlink" title="_.drop"></a>_.drop</h3><p>原生<code>slice</code>方法的阉割版。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line">_.drop([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);</span><br><span class="line"><span class="comment">// =&gt; [2, 3]</span></span><br><span class="line">_.drop([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">2</span>);</span><br><span class="line"><span class="comment">// =&gt; [3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line">_.drop([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">5</span>);</span><br><span class="line"><span class="comment">// =&gt; []</span></span><br><span class="line"> </span><br><span class="line">_.drop([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">0</span>);</span><br><span class="line"><span class="comment">// =&gt; [1, 2, 3]</span></span><br></pre></td></tr></table></figure></p>
<h3 id="first"><a href="#first" class="headerlink" title="_.first"></a>_.first</h3><p>获取数组 array 的第一个元素。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line">_.first([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]);</span><br><span class="line"><span class="comment">// =&gt; 1</span></span><br><span class="line"></span><br><span class="line">_.first([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], <span class="number">2</span>);</span><br><span class="line"><span class="comment">// =&gt; [1, 2]</span></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>][<span class="number">0</span>];</span><br><span class="line"><span class="comment">// =&gt; 1</span></span><br><span class="line"><span class="comment">//or</span></span><br><span class="line">[].concat(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>).shift()</span><br><span class="line"><span class="comment">// =&gt; 1</span></span><br><span class="line"><span class="comment">//or</span></span><br><span class="line">[].concat([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]).shift()</span><br><span class="line"><span class="comment">// =&gt; 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native (works even with potentially undefined/null, like _.first)</span></span><br><span class="line">[].concat(<span class="literal">undefined</span>).shift()</span><br><span class="line"><span class="comment">// =&gt; undefined</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].slice(<span class="number">0</span>, <span class="number">2</span>);</span><br><span class="line"><span class="comment">// =&gt; [1, 2]</span></span><br></pre></td></tr></table></figure></p>
<h3 id="last"><a href="#last" class="headerlink" title="_.last"></a>_.last</h3><p>获取array中的最后一个元素。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line"><span class="keyword">const</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line">_.last(numbers);</span><br><span class="line"><span class="comment">// =&gt; 5</span></span><br><span class="line"></span><br><span class="line">_.last(numbers, <span class="number">2</span>);</span><br><span class="line"><span class="comment">// =&gt; [4, 5]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line"><span class="keyword">const</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line">numbers[numbers.length - <span class="number">1</span>];</span><br><span class="line"><span class="comment">// =&gt; 5</span></span><br><span class="line"><span class="comment">//or</span></span><br><span class="line">numbers.slice(<span class="number">-1</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="comment">// =&gt; 5</span></span><br><span class="line">[].concat(numbers).pop()</span><br><span class="line"><span class="comment">// =&gt; 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line">[].concat(<span class="literal">undefined</span>).pop()</span><br><span class="line"><span class="comment">// =&gt; undefined</span></span><br><span class="line"></span><br><span class="line">numbers.slice(<span class="number">-2</span>);</span><br><span class="line"><span class="comment">// =&gt; [4, 5]</span></span><br></pre></td></tr></table></figure></p>
<h3 id="flatten"><a href="#flatten" class="headerlink" title="_.flatten"></a>_.flatten</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line">_.flatten([<span class="number">1</span>, [<span class="number">2</span>, [<span class="number">3</span>, [<span class="number">4</span>]], <span class="number">5</span>]]);</span><br><span class="line"><span class="comment">// =&gt; [1, 2, [3, [4]], 5]</span></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line"><span class="keyword">const</span> flatten = [<span class="number">1</span>, [<span class="number">2</span>, [<span class="number">3</span>, [<span class="number">4</span>]], <span class="number">5</span>]].reduce( (a, b) =&gt; a.concat(b), []) <span class="comment">// 合并一级层级</span></span><br><span class="line"><span class="comment">// =&gt; [1, 2, [3, [4]], 5]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native(ES2019)</span></span><br><span class="line"><span class="keyword">const</span> flatten = [<span class="number">1</span>, [<span class="number">2</span>, [<span class="number">3</span>, [<span class="number">4</span>]], <span class="number">5</span>]].flat()</span><br><span class="line"><span class="comment">// =&gt; [1, 2, [3, [4]], 5]</span></span><br></pre></td></tr></table></figure>
<h3 id="flattenDeep"><a href="#flattenDeep" class="headerlink" title="_.flattenDeep"></a>_.flattenDeep</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line">_.flattenDeep([<span class="number">1</span>, [<span class="number">2</span>, [<span class="number">3</span>, [<span class="number">4</span>]], <span class="number">5</span>]]);</span><br><span class="line"><span class="comment">// =&gt; [1, 2, 3, 4, 5]</span></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line"><span class="keyword">const</span> flattenDeep = (arr) =&gt; <span class="built_in">Array</span>.isArray(arr)</span><br><span class="line">  ? arr.reduce( (a, b) =&gt; a.concat(flattenDeep(b)) , []) <span class="comment">// 如果是数组则继续合并</span></span><br><span class="line">  : [arr] <span class="comment">// 知道不是数组为止</span></span><br><span class="line"></span><br><span class="line">flattenDeep([<span class="number">1</span>, [[<span class="number">2</span>], [<span class="number">3</span>, [<span class="number">4</span>]], <span class="number">5</span>]])</span><br><span class="line"><span class="comment">// =&gt; [1, 2, 3, 4, 5]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native(ES2019)</span></span><br><span class="line">[<span class="number">1</span>, [<span class="number">2</span>, [<span class="number">3</span>, [<span class="number">4</span>]], <span class="number">5</span>]].flat(<span class="literal">Infinity</span>) <span class="comment">// 使用 Infinity 作为深度，展开为一维数组</span></span><br><span class="line"><span class="comment">// =&gt; [1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>
<h3 id="isArrayBuffer"><a href="#isArrayBuffer" class="headerlink" title="_.isArrayBuffer"></a>_.isArrayBuffer</h3><p>检查 value 是否是 ArrayBuffer 对象。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line">_.isArrayBuffer(<span class="keyword">new</span> <span class="built_in">ArrayBuffer</span>(<span class="number">2</span>));</span><br><span class="line"><span class="comment">// output: true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">new</span> <span class="built_in">ArrayBuffer</span>(<span class="number">2</span>) <span class="keyword">instanceof</span> <span class="built_in">ArrayBuffer</span>);</span><br><span class="line"><span class="comment">// output: true</span></span><br></pre></td></tr></table></figure></p>
<h3 id="intersection"><a href="#intersection" class="headerlink" title="_.intersection"></a>_.intersection</h3><p>创建唯一值的数组<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line"><span class="built_in">console</span>.log(_.intersection([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">101</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">10</span>], [<span class="number">2</span>, <span class="number">1</span>]))</span><br><span class="line"><span class="comment">// output: [1, 2]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line"><span class="keyword">var</span> arrays = [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">101</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">10</span>], [<span class="number">2</span>, <span class="number">1</span>]];</span><br><span class="line"><span class="built_in">console</span>.log(array.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a.filter(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123; <span class="comment">// 因为是包含共同值，所以很自然的使用filter来过滤并创建新数组</span></span><br><span class="line">    <span class="keyword">return</span> b.includes(value); <span class="comment">// 为true则保留该元素</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;)));</span><br><span class="line"><span class="comment">// output: [1, 2]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6</span></span><br><span class="line"><span class="keyword">let</span> arrays = [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">101</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">10</span>], [<span class="number">2</span>, <span class="number">1</span>]];</span><br><span class="line"><span class="built_in">console</span>.log(arrays.reduce((a, b) =&gt; a.filter(c =&gt; b.includes(c))));</span><br><span class="line"><span class="comment">// output: [1, 2]</span></span><br></pre></td></tr></table></figure></p>
<h3 id="without"><a href="#without" class="headerlink" title="_.without"></a>_.without</h3><p>创建一个剔除所有给定值的新数组<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line"><span class="keyword">var</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="built_in">console</span>.log(_.without(array, <span class="number">2</span>))</span><br><span class="line"><span class="comment">// output: [1, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line"><span class="keyword">var</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="built_in">console</span>.log(array.filter(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> value !== <span class="number">2</span>;</span><br><span class="line">&#125;));</span><br><span class="line"><span class="comment">// output: [1, 3]</span></span><br></pre></td></tr></table></figure></p>
<h2 id="Objects"><a href="#Objects" class="headerlink" title="Objects"></a>Objects</h2><h3 id="keys"><a href="#keys" class="headerlink" title="_.keys"></a>_.keys</h3><p>返回一个可枚举的直属属性的数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line">_.keys(&#123;one: <span class="number">1</span>, two: <span class="number">2</span>, three: <span class="number">3</span>&#125;)</span><br><span class="line"><span class="comment">// output: ["one", "two", "three"]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line"><span class="keyword">var</span> result = <span class="built_in">Object</span>.keys(&#123;one: <span class="number">1</span>, two: <span class="number">2</span>, three: <span class="number">3</span>&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br><span class="line"><span class="comment">// output: ["one", "two", "three"]</span></span><br></pre></td></tr></table></figure></p>
<h3 id="size"><a href="#size" class="headerlink" title="_.size"></a>_.size</h3><p>返回对象的长度，原生没有size方法，用<code>keys</code>返回一个数组，再获取长度来模拟。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line">_.size(&#123;one: <span class="number">1</span>, two: <span class="number">2</span>, three: <span class="number">3</span>&#125;)</span><br><span class="line"><span class="comment">// output:3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line"><span class="keyword">var</span> result = <span class="built_in">Object</span>.keys(&#123;one: <span class="number">1</span>, two: <span class="number">2</span>, three: <span class="number">3</span>&#125;).length</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br><span class="line"><span class="comment">// output: 3</span></span><br></pre></td></tr></table></figure></p>
<h3 id="allKeys"><a href="#allKeys" class="headerlink" title="_.allKeys"></a>_.allKeys</h3><p><code>Reflect.enumerate(..)</code>：返回一个产生所有（直属和“继承的”）非symbol、可枚举的键的迭代器<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Stooge</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line">Stooge.prototype.silly = <span class="literal">true</span>;</span><br><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line"><span class="built_in">console</span>.log(__.allKeys(<span class="keyword">new</span> Stooge(<span class="string">"Hi"</span>)))</span><br><span class="line"><span class="comment">// output:["name", "silly"]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line"><span class="built_in">console</span>.log( [...Reflect.enumerate( <span class="keyword">new</span> Stooge(<span class="string">"Hi"</span>) )] )</span><br><span class="line"><span class="comment">// output: ["name", "silly"]</span></span><br></pre></td></tr></table></figure></p>
<h3 id="values"><a href="#values" class="headerlink" title="_.values"></a>_.values</h3><p>返回对象所有的属性值。原生中没有<code>values</code>方法，可使用<code>Object.keys</code>和<code>map</code>来模拟。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line">_.values(&#123;one: <span class="number">1</span>, two: <span class="number">2</span>, three: <span class="number">3</span>&#125;)</span><br><span class="line"><span class="comment">// output: [1, 2, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line"><span class="built_in">Object</span>.values(&#123;one: <span class="number">1</span>, two: <span class="number">2</span>, three: <span class="number">3</span>&#125;)</span><br><span class="line"><span class="comment">// output: [1, 2， 3]</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;one: <span class="number">1</span>, two: <span class="number">2</span>, three: <span class="number">3</span>&#125;</span><br><span class="line"><span class="built_in">Object</span>.keys(obj).map(key =&gt; obj[key])</span><br><span class="line"><span class="comment">// output: [1, 2， 3]</span></span><br></pre></td></tr></table></figure></p>
<h3 id="create"><a href="#create" class="headerlink" title="_.create"></a>_.create</h3><p>使用现有的对象来提供新创建的对象。基本上和<code>Object.create</code>一样。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Stooge</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line">Stooge.prototype.silly = <span class="literal">true</span>;</span><br><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line"> <span class="keyword">var</span> hi = _.create(Stooge.prototype, &#123;name: <span class="string">"hi"</span>&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(hi)</span><br><span class="line"><span class="comment">// output &#123;name: "hi"&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line"><span class="keyword">var</span> hi = <span class="built_in">Object</span>.assign(<span class="built_in">Object</span>.create(Stooge.prototype), &#123;name: <span class="string">"hi"</span>&#125;)</span><br><span class="line"><span class="built_in">console</span>.log( hi )</span><br></pre></td></tr></table></figure></p>
<h3 id="assign"><a href="#assign" class="headerlink" title="_.assign"></a>_.assign</h3><p>通过合并自身属性到目标对象来创建新对象，基本上和<code>Object.assign</code>一样。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line">_.assign(&#123;&#125;, &#123;b: <span class="number">1</span>,c: <span class="number">2</span>&#125;, &#123; a: <span class="literal">false</span> &#125;)</span><br><span class="line"><span class="comment">// output &#123;b: 1, c: 2, a: false&#125;</span></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line"><span class="built_in">Object</span>.assign(&#123;&#125;, &#123;b: <span class="number">1</span>,c: <span class="number">2</span>&#125;, &#123; a: <span class="literal">false</span> &#125;)</span><br><span class="line"><span class="comment">// output &#123;b: 1, c: 2, a: false&#125;</span></span><br><span class="line">&#123;  ...&#123;b: <span class="number">1</span>,c: <span class="number">2</span>&#125;, a: <span class="literal">false</span> &#125;</span><br><span class="line"><span class="comment">// output &#123;b: 1, c: 2, a: false&#125;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="isArray"><a href="#isArray" class="headerlink" title="_.isArray"></a>_.isArray</h3><p>判断是否是一个数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line"><span class="keyword">var</span> array = []</span><br><span class="line"><span class="built_in">console</span>.log(_.isArray(array))</span><br><span class="line"><span class="comment">// output: true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line"><span class="keyword">var</span> array = []</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.isArray(array))</span><br><span class="line"><span class="comment">// output: true</span></span><br></pre></td></tr></table></figure></p>
<h3 id="isFinite"><a href="#isFinite" class="headerlink" title="_.isFinite"></a>_.isFinite</h3><p>判断是否是一个有限的数字。只要是数字就返回true，其他值都是false。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line">_.isFinite(<span class="number">-101</span>)</span><br><span class="line"><span class="comment">// output true</span></span><br><span class="line">_.isFinite(-<span class="literal">Infinity</span>)</span><br><span class="line"><span class="comment">// output false</span></span><br><span class="line">_.isFinite(<span class="string">'a'</span>)</span><br><span class="line"><span class="comment">// output false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line"><span class="keyword">var</span> array = []</span><br><span class="line"><span class="built_in">Number</span>.isFinite(<span class="number">-101</span>)</span><br><span class="line"><span class="comment">// output true</span></span><br><span class="line"><span class="built_in">Number</span>.isFinite(-<span class="literal">Infinity</span>)</span><br><span class="line"><span class="comment">// output true</span></span><br><span class="line"><span class="built_in">Number</span>.isFinite(<span class="string">'a'</span>)</span><br><span class="line"><span class="comment">// output false</span></span><br></pre></td></tr></table></figure></p>
<h2 id="Functions"><a href="#Functions" class="headerlink" title="Functions"></a>Functions</h2><h3 id="bind"><a href="#bind" class="headerlink" title="_.bind"></a>_.bind</h3><p>指定调用函数的作用域，函数里的this都指向传入的<code>this</code>。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> objA = &#123;</span><br><span class="line">    x: <span class="number">66</span>,</span><br><span class="line">    offsetX: <span class="function"><span class="keyword">function</span>(<span class="params">offset</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.x + offset;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> objB = &#123;</span><br><span class="line">    x: <span class="number">67</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// Underscore/Lodash</span></span><br><span class="line">boundOffsetX = _.bind(objA.offsetX, objB, <span class="number">0</span>);</span><br><span class="line"><span class="comment">// output 67</span></span><br><span class="line"><span class="comment">// Native</span></span><br><span class="line">boundOffsetX = objA.offsetX.bind(objB, <span class="number">0</span>);</span><br><span class="line"><span class="comment">// output 67</span></span><br></pre></td></tr></table></figure></p>
<p>大部分方法都从以下文章搬过来，觉得很有学习价值，就一个个修修改改搬过来。从中又熟悉了一遍ES6的函数方法，特别是逼格满满的<code>reduce</code>方法，^_^</p>
<p>参考文章：</p>
<ol>
<li><a href="https://github.com/you-dont-need/You-Dont-Need-Lodash-Underscore" target="_blank" rel="external">You-Dont-Need-Lodash-Underscore</a></li>
<li><a href="https://github.com/you-dont-need/You-Dont-Need-Lodash-Underscore" target="_blank" rel="external">You don’t (may not) need Lodash/Underscore</a></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.html5jscss.com/you-dont-not-need-lodash-underscore/" data-id="cjzcl76ai0036dkhsoqwdvza7" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/mongoose-api/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          入门 mongoose
        
      </div>
    </a>
  
  
    <a href="/functional-programming/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">函数式编程</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Css/">Css</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a><span class="category-list-count">8</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/React/">React</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Js/">Js</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Node-js/">Node.js</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Node-js/MongoDB/">MongoDB</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Node-js/MongoDB/React/">React</a><span class="category-list-count">1</span></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Vue/">Vue</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongoDB/">mongoDB</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/nodeJs/">nodeJs</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端构建工具/">前端构建工具</a><span class="category-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Css-积累/">Css 积累</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GraphQL/">GraphQL</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JS实际应用/">JS实际应用</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JS工具/">JS工具</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Koa/">Koa</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mongoose/">Mongoose</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue/">Vue</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue实操/">Vue实操</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongoDB/">mongoDB</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongoose/">mongoose</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodeJs/">nodeJs</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/reflow/">reflow</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/">webpack</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack1-x/">webpack1.x</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack4-x/">webpack4.x</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端性能/">前端性能</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/技术细节/">技术细节</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/技术细节-cross-dev/">技术细节 cross-dev</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/正则/">正则</a><span class="tag-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/Css-积累/" style="font-size: 10px;">Css 积累</a> <a href="/tags/GraphQL/" style="font-size: 10px;">GraphQL</a> <a href="/tags/JS实际应用/" style="font-size: 15px;">JS实际应用</a> <a href="/tags/JS工具/" style="font-size: 10px;">JS工具</a> <a href="/tags/JavaScript/" style="font-size: 20px;">JavaScript</a> <a href="/tags/Koa/" style="font-size: 10px;">Koa</a> <a href="/tags/Mongoose/" style="font-size: 10px;">Mongoose</a> <a href="/tags/React/" style="font-size: 10px;">React</a> <a href="/tags/Vue/" style="font-size: 10px;">Vue</a> <a href="/tags/Vue实操/" style="font-size: 10px;">Vue实操</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/mongoDB/" style="font-size: 15px;">mongoDB</a> <a href="/tags/mongoose/" style="font-size: 15px;">mongoose</a> <a href="/tags/nodeJs/" style="font-size: 15px;">nodeJs</a> <a href="/tags/reflow/" style="font-size: 10px;">reflow</a> <a href="/tags/webpack/" style="font-size: 15px;">webpack</a> <a href="/tags/webpack1-x/" style="font-size: 10px;">webpack1.x</a> <a href="/tags/webpack4-x/" style="font-size: 10px;">webpack4.x</a> <a href="/tags/前端性能/" style="font-size: 10px;">前端性能</a> <a href="/tags/技术细节/" style="font-size: 10px;">技术细节</a> <a href="/tags/技术细节-cross-dev/" style="font-size: 10px;">技术细节 cross-dev</a> <a href="/tags/正则/" style="font-size: 15px;">正则</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a><span class="archive-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/react-communication/">react-communication</a>
          </li>
        
          <li>
            <a href="/vue-communication/">vue组件通信</a>
          </li>
        
          <li>
            <a href="/mongoose-populate/">mongoose联表查询</a>
          </li>
        
          <li>
            <a href="/mongoose-api/">入门 mongoose</a>
          </li>
        
          <li>
            <a href="/you-dont-not-need-lodash-underscore/">使用原生函数代替underscore/lodash</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 wei gu<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      Hosted by <a href="https://pages.coding.me">Coding Pages</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
</nav>
    

<script src="/js/jquery.min.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>